
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Title Page</title>

        <!-- Bootstrap CSS -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/assets/css/style.css">
    </head>
    <body>
        
        <div class="container">
            
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h1 class="text-center">Survey Questions</h1>
                </div>
            </div>
            
            
            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h4 class="text-center">First Name (required)</h4>
                    <input type="text" id="first_name" class="form-control" required>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h4 class="text-center">Last Name (required)</h4>
                    <input type="text" id="last_name" class="form-control" required>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <h4 class="text-center">Add Link to your photo! (required)</h4>
                    <input type="text" id="photo" class="form-control" required>
                </div>
            </div>
            
            <div class="row"> 
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 1</h2>
                    <h4>What is your favorite music?</h4>
                    <select id="music">
                        <option value="1">Country</option>
                        <option value="2">Rock</option>
                        <option value="3">Rap</option>
                        <option value="4">Pop</option>
                        <option value="5">Classical</option>
                    </select>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 2</h2>
                    <h4>What is your favorite animal?</h4>
                    <select id="pet">
                        <option value="1">Cat</option>
                        <option value="2">Dog</option>
                        <option value="3">Fish</option>
                        <option value="4">None</option>
                    </select>
                </div>
            </div>


            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 3</h2>
                    <h4>Which word best describes your diet?</h4>
                    <select id="diet">
                        <option value="1"> Steak</option>
                        <option value="2">Potatoes</option>
                        <option value="3">Carrots</option>
                        <option value="4">Beer</option>
                    </select>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 4</h2>
                    <h4>Which word best describes your polotics?</h4>
                    <select id="guns">
                        <option value="1">Arm the teachers</option>
                        <option value="2">Regulation</option>
                        <option value="3">Take them away</option>
                        <option value="4">I DONT CARE</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 5</h2>
                    <h4>Where would you rather live?</h4>
                    <select id="location">
                        <option value="1"> Farm</option>
                        <option value="2">City</option>
                        <option value="3">Suburbs</option>
                        <option value="4">Alaska</option>
                    </select>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 6</h2>
                    <h4>How do you manage your money?</h4>
                    <select id="money">
                        <option value="1">I'll buy</option>
                        <option value="2">Lets split the bill</option>
                        <option value="3">I forgot my wallet</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 7</h2>
                    <h4>Who would you rather meet?</h4>
                    <select id="john">
                        <option value="1"> John F Kennedy</option>
                        <option value="2">John Cena</option>
                        <option value="3">John Denver</option>
                        <option value="4">John Wanye Gacy</option>
                    </select>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 8</h2>
                    <h4>What would you rather watch?</h4>
                    <select id="movie">
                        <option value="1">Die Hard</option>
                        <option value="2">Titanic</option>
                        <option value="3">Animal House</option>
                        <option value="4">Star Wars</option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 9</h2>
                    <h4>How do feel about food that falls on the floor?</h4>
                    <select id="food">
                        <option value="1"> No way</option>
                        <option value="2">3 second rule</option>
                        <option value="3">5 second rule</option>
                        <option value="4">I wouldn't want to waste it</option>
                    </select>
                </div>
                <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                    <h2>Question 10</h2>
                    <h4>Do you like to dance?</h4>
                    <select id="dance">
                        <option value="1">Anytime, anywhere</option>
                        <option value="2">If I am at a wedding</option>
                        <option value="3">In the shower</option>
                        <option value="4">I have two left feet</option>
                    </select>
                </div>
            </div>
            
            
            
            
        <!-- Trigger the modal with a button -->
        <button id="submit" type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Find Friend</button>
        
        <!-- Modal -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
        
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Your Match!!</h4>
                    </div>
                    <div class="modal-body">
        
                        <h5 id="userMatch"></h5>
                        <img id="photoMatch" src="">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
        
            </div>
        </div>
        
       

        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Bootstrap JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script>
            $(document).ready(function () {
                    $("#submit").on('click',function(){
                        event.preventDefault();
                        var friend = {
                            first: $('#first_name').val().trim(),
                            last: $('#last_name').val().trim(),
                            photo: $('#photo').val().trim(),
                            answers: [
                                $('#music').val(),
                                $('#pet').val(),
                                $('#diet').val(),
                                $('#guns').val(),
                                $('#location').val(),
                                $("#money").val(),
                                $('#john').val(),
                                $('#movie').val(),
                                $('#food').val(),
                                $('#dance').val()
                            ]                          
                        }; 
                                           
                        $.post('/api/friends',friend,
                            //data is what is coming back from the server
                            function(data){
                                var data = JSON.parse(data);
                                console.log(data);

                                $('#userMatch').html(`${data.first} ${data.last}`);
                                $('#photoMatch').attr('src',data.photo);
                                 

                                //clear form
                                $('#first_name').val('');
                                $('#last_name').val('');
                                $('#photo').val('');

                        })
                    })
                });
        </script>
    </body>
</html>
